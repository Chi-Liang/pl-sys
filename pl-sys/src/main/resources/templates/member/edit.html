<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{defaultLayout}">

<head>
<title>註冊會員編輯</title>
<script type="text/javascript">
	$(document).ready(function() {
		
		jQuery.validator.addMethod("positiveinteger", function(value, element) {
			var aint=parseInt(value);
			return aint>=0&& (aint+"")==value;
		}, "Please enter a valid number.");
		
		
		$("#memberForm").validate({
			rules : {
				mid : {
					required : true
				},
				categories : {
					required : true
				},
				email : {
					email : true
				},
				points : {
					positiveinteger : true
				}
				
			},
			messages : {
				mid : {
					required : "此欄位必填"
				},
				categories : {
					required : "請至少選擇一個影片群組"
				},
				email : {
					email : "格式錯誤"
				},
				points : {
					positiveinteger:"請輸入大於或等於零整數"
				}
			},
			errorPlacement: function(error, element) {
				if (element.attr("type") == "checkbox") {
					element.closest('label').append(error);
			    } else {
		            error.insertAfter(element);
		        }
            }

		});
	});
</script>
</head>
<body>
	<div layout:fragment="content">
		<div class="container-flmid">
			<div class="row">
				<div class="col-lg-12">
					<h1 class="page-header">註冊會員編輯</h1>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-12">
					<div class="panel panel-default">
						<div class="panel-heading">會員資訊</div>
						<div class="panel-body">
							<div class="row">
								<div class="col-lg-12">
									<form id="memberForm" role="form" th:action="@{/auth/member/editSubmit}"
										th:object="${member}" method="post">
										<div class="form-group">
											<label>帳號</label> <input class="form-control"
												th:field="*{mid}" readonly>
											<p class="help-block"></p>
										</div>
										<!-- <div class="form-group">
											<label>影片群組</label> 
											<select class="form-control" th:field="*{cid}">
                                        		<option th:each="category : ${categoryList}" th:value="${category.cid}" th:text="${category.name}"
                                                	th:selected="${category.cid}==${member.cid}">
                                        		</option>
                                    		</select>
										</div> -->
										<div class="form-group">
											<label>影片群組</label> 
                                        	<div class="checkbox" th:each="category : ${categoryList}">
                                        		<label>
                                        			<input type="checkbox" th:field="*{categories}" th:value="${category.cid}" th:text="${category.name}">
                                        		</label>
                                        	</div>
                                        </div>
										<div class="form-group">
											<label>名稱</label> <input class="form-control"
												th:field="*{name}">
											<p class="help-block"></p>
										</div>
										<div class="form-group">
											<label>電話</label> <input class="form-control"
												th:field="*{tel}">
											<p class="help-block"></p>
										</div>
										<div class="form-group">
											<label>信箱</label> <input class="form-control"
												th:field="*{email}">
											<p class="help-block"></p>
										</div>
										<div class="form-group">
											<label>地址</label> <input class="form-control"
												th:field="*{address}">
											<p class="help-block"></p>
										</div>
										<div class="form-group">
											<label>點數</label> <input class="form-control"
												th:field="*{points}">
											<p class="help-block"></p>
										</div>
										<div class="form-group">
											<label>免費/付費</label>
											<div class="radio">
												<label> <input type="radio" name="freeOrPaid"
													value="0" th:field="*{freeOrPaid}"> 免費</input>
												</label> <label> <input type="radio" name="freeOrPaid"
													value="1" th:field="*{freeOrPaid}"> 付費</input>
												</label>
											</div>
										</div>

										<button type="submit" class="btn btn-default">Submit</button>
										<button type="reset" class="btn btn-default">Reset</button>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
